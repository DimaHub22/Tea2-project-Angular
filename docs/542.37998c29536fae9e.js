"use strict";(self.webpackChunkTea=self.webpackChunkTea||[]).push([[542],{9542:(U,p,i)=>{i.r(p),i.d(p,{ProductsModule:()=>A});var a=i(6895),s=i(9371),t=i(8256),u=i(2340),g=i(529);let l=(()=>{class e{constructor(o){this.http=o}getProducts(o=""){return this.http.get(u.N.apiURL+"tea",{params:{search:o}})}getProduct(o){return this.http.get(u.N.apiURL+`tea?id=${o}`)}}return e.\u0275fac=function(o){return new(o||e)(t.LFG(g.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=i(264);const f=function(){return["/order"]};let v=(()=>{class e{constructor(o,r,n,d){this.productService=o,this.router=r,this.activatedRouter=n,this.cartOrder=d,this.products={id:0,image:"",title:"",price:0,description:""}}getTeaTitle(){this.cartOrder.teaTitle=this.products.title}ngOnInit(){this.activatedRouter.params.subscribe(o=>{o.id&&this.productService.getProduct(+o.id).subscribe({next:r=>{this.products=r},error:r=>{console.log(r),this.router.navigate(["/"])}})})}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l),t.Y36(s.F0),t.Y36(s.gz),t.Y36(h.Q))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product"]],decls:16,vars:10,consts:[[1,"container","mt-5"],[1,"text-center","mb-5"],[1,"row","justify-content-center"],[1,"col"],["data-wow-offset","50",1,"card","wow","flipInX"],[1,"m-auto",2,"width","180px","height","180px"],["alt","...",1,"card-img-top",2,"width","100%",3,"src"],[1,"card-body"],[1,"card-title","text-center"],[1,"card-text"],[1,"btn","btn-primary","hvr-wobble-vertical",3,"routerLink","click"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),t._UZ(7,"img",6),t.qZA(),t.TgZ(8,"div",7)(9,"h5",8),t._uU(10),t.ALo(11,"currency"),t.qZA(),t.TgZ(12,"p",9),t._uU(13),t.qZA(),t.TgZ(14,"a",10),t.NdJ("click",function(){return r.getTeaTitle()}),t._uU(15,"\u041a\u0443\u043f\u0438\u0442\u044c"),t.qZA()()()()()()),2&o&&(t.xp6(2),t.Oqu(r.products.title),t.xp6(5),t.s9C("src",r.products.image,t.LSH),t.xp6(3),t.Oqu(t.Dn7(11,5,r.products.price,"RUB","\u0440\u0443\u0431")),t.xp6(3),t.Oqu(r.products.description),t.xp6(1),t.Q6J("routerLink",t.DdM(9,f)))},dependencies:[s.yS,a.H9]}),e})();const C=function(e){return["/catalog",e]};let Z=(()=>{class e{constructor(){this.tea={id:0,image:"",title:"",price:0,description:""}}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-product-cart"]],inputs:{tea:"tea"},decls:9,vars:5,consts:[[1,"col"],["data-wow-offset","50",1,"card","wow","flipInX"],[1,"popup-link"],["alt","...",1,"card-img-top",3,"src"],[1,"card-body"],[1,"card-title"],[1,"btn","btn-primary","hvr-wobble-vertical",3,"routerLink"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t._UZ(3,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"h5",5),t._uU(6),t.qZA(),t.TgZ(7,"a",6),t._uU(8,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"),t.qZA()()()()),2&o&&(t.xp6(3),t.s9C("src",r.tea.image,t.LSH),t.xp6(3),t.Oqu(r.tea.title),t.xp6(1),t.Q6J("routerLink",t.VKq(3,C,r.tea.id)))},dependencies:[s.yS]}),e})();function P(e,c){1&e&&(t.TgZ(0,"div",5),t._UZ(1,"img",6),t.qZA())}function T(e,c){1&e&&t._UZ(0,"app-product-cart",7),2&e&&t.Q6J("tea",c.$implicit)}const y=[{path:"",component:(()=>{class e{constructor(o,r,n){this.productService=o,this.router=r,this.activeRouter=n,this.products=[],this.loading=!1,this.title=""}ngOnInit(){const o=this.router.config[0].children;o&&o.find(n=>n.path)&&localStorage.setItem("router","true"),this.getResponse()}getResponse(){this.loading=!0,this.activeRouter.queryParams.subscribe(o=>{this.products=[];let r=o.search;this.productService.getProducts(r).subscribe({next:n=>{if(0!==n.length&&""!==r){this.title=r?`\xab\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u044b \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ${r}\xbb`:"\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438";for(let d in n)this.products.push(n[d])}else this.title=""===r?"\u041d\u0430\u0448\u0438 \u0447\u0430\u0439\u043d\u044b\u0435 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438":"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e";this.loading=!1},error:n=>{console.log(n),this.router.navigate(["/"])}})})}ngOnDestroy(){}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(l),t.Y36(s.F0),t.Y36(s.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-catalog"]],decls:6,vars:3,consts:[[1,"container","mt-5"],[1,"text-center","mb-5"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-3"],["class","m-auto text-center",4,"ngIf"],[3,"tea",4,"ngFor","ngForOf"],[1,"m-auto","text-center"],["src","../../../../assets/image/ajax-loader.gif","alt",""],[3,"tea"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"h2",1),t._uU(2),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,P,2,0,"div",3),t.YNc(5,T,1,1,"app-product-cart",4),t.qZA()()),2&o&&(t.xp6(2),t.Oqu(r.title),t.xp6(2),t.Q6J("ngIf",r.loading),t.xp6(1),t.Q6J("ngForOf",r.products))},dependencies:[a.sg,a.O5,Z]}),e})()},{path:":id",component:v}];let m=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.Bz.forChild(y),s.Bz]}),e})();var w=i(4466);let A=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[a.ez,w.m,m,m]}),e})()}}]);